<!DOCTYPE html>
<html>
<head>
  <title>Redirecting...</title>
</head>
<body>
  <script>
    // Fetch the text file and verify password
    fetch('https://ncresources.github.io/code/code.txt')
      .then(response => {
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        return response.text();
      })
      .then(text => {
        const password = text.trim(); // Get the content of the text file
        console.log('Password fetched successfully:', password);

        // Function to prompt for password and verify
        function promptForPassword() {
          const inputPass = prompt('Enter the password:');

          if (inputPass === password) {
            const redirectUrl = 'data:text/html;charset=utf-8,' + encodeURIComponent(`
              <!DOCTYPE html>
              <html lang="en">
                <head>
                  <meta charset="UTF-8" />
                  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                  <title>Home - Google Drive</title>
                  <link rel="shortcut icon" href="http://ssl.gstatic.com/images/branding/product/1x/drive_2020q4_48dp.png" type="image/x-icon" />
                  <link rel="stylesheet" href="style.css" />
                  <script src="script.js"></script>
                  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
                </head>
                <body>
                  <right>
                    <div class="mode">
                      Dark mode:
                      <span class="change">ON</span>
                    </div>
                  </right>
                  <center>
                    <h2>This is made in HTML, CSS, and JavaScript.</h2>
                  </center>
                  <div class="grid">
                    <div class="grid-item" style="background-image: url('img/drive-mad.avif')" onclick="openFile('games/drive-mad/index.html')"></div>
                    <div class="grid-item" style="background-image: url('img/lemonstroids.svg')" onclick="openFile('games/lemonoids/index.html')"></div>
                    <div class="grid-item" style="background-image: url('img/cookie-clicker.png')" onclick="openFile('games/cookie-clicker/index.html')"></div>
                    <div class="grid-item" style="background-image: url('img/htmlifier.png')" onclick="openFile('games/htmlifier.html')"></div>
                    <div class="grid-item" style="background-image: url('img/eaglercraft.png')" onclick="openFile('games/eaglercraft.html')"></div>
                    <div class="grid-item" style="background-image: url('img/level-eaten.png')" onclick="openFile('games/level-eaten.html')"></div>
                    <div class="grid-item" style="background-image: url('img/paperio-2.png')" onclick="openFile('games/paperio-2/index.html')"></div>
                    <div class="grid-item" style="background-image: url('img/tiny-fishing.avif')" onclick="openFile('games/tiny-fishing.html')"></div>
                    <div class="grid-item" style="background-image: url('img/1v1-lol.png')" onclick="openFile('games/1v1-lol/index.html')"></div>
                    <div class="grid-item" style="background-image: url('img/basket-bros.jpg')" onclick="openFile('games/basket-bros/index.html')"></div>
                    <div class="grid-item" style="background-image: url('img/tetris.png')" onclick="openFile('games/tetris/index.html')"></div>
                    <div class="grid-item" style="background-image: url('img/2048.png')" onclick="openFile('games/2048/index.html')"></div>
                    <div class="grid-item" style="background-image: url('img/fluid-simulation.png')" onclick="openFile('games/fluid_simulation/index.html')"></div>
                  </div>
                  <script src="script.js"></script>
                </body>
              </html>
            `);

            window.location.href = redirectUrl; // Redirect to about:blank page with the same code
          } else {
            alert('Incorrect password. Please try again.');
            promptForPassword(); // Prompt again if password is incorrect
          }
        }

        promptForPassword(); // Prompt for password after fetching content
      })
      .catch(error => {
        console.error('There was a problem fetching the text file:', error);
      });
  </script>
</body>
</html>
